/* Generated by nbec  on Sat May 27 04:19:05 2017
 */
#include <stdlib.h>

#include "nbe_pu_gb.h"

nbe_pu_gb *nbe_gb_new(void) {
    uint32_t extra = 4096;
    uint32_t fixed_size = sizeof(nbe_pu_gb);
    nbe_pu_gb *pu = (nbe_pu_gb*) malloc(fixed_size +extra);
    check_pu_new(pu);
    memset(pu, 0, fixed_size + extra);
    pu->uhd.uid = 1000;
    pu->uhd.type = NBE_STRUCT;
    pu->uhd.packed = 0;
    uint32_t t = 1;
    pu->uhd.endian = ( *((uint8_t*) &t) != 1);
    pu->uhd.tail = fixed_size;
    pu->uhd.avail = extra;
    return pu;
}

void  nbe_gb_free(nbe_pu_gb *pu) {
    free(pu);
}
nbe_string nbe_gb_get_layer(nbe_pu_gb *pu) {
   nbe_string nstring; 
   nbe_ptr ptr = pu->layer;
   nstring.str = ptr.offset == 0 ? 0 : ((uint8_t*)pu) + ptr.offset;
   nstring.len = ptr.len;
   return nstring;
}

void nbe_gb_set_layer_post(void *v, nbe_ptr p, int delta) {
   nbe_pu_gb *pu = (nbe_pu_gb*) v;
    if (pu->frame_type.offset > p.offset)
       pu->frame_type.offset += delta;
    if (pu->signal_name.offset > p.offset)
       pu->signal_name.offset += delta;
    if (pu->raw.offset > p.offset)
       pu->raw.offset += delta;
    if (pu->data.offset > p.offset)
       pu->data.offset += delta;
    if (pu->elements.offset > p.offset)
       pu->elements.offset += delta;
}

nbe_string nbe_gb_get_frame_type(nbe_pu_gb *pu) {
   nbe_string nstring; 
   nbe_ptr ptr = pu->frame_type;
   nstring.str = ptr.offset == 0 ? 0 : ((uint8_t*)pu) + ptr.offset;
   nstring.len = ptr.len;
   return nstring;
}

void nbe_gb_set_frame_type_post(void *v, nbe_ptr p, int delta) {
   nbe_pu_gb *pu = (nbe_pu_gb*) v;
    if (pu->layer.offset > p.offset)
       pu->layer.offset += delta;
    if (pu->signal_name.offset > p.offset)
       pu->signal_name.offset += delta;
    if (pu->raw.offset > p.offset)
       pu->raw.offset += delta;
    if (pu->data.offset > p.offset)
       pu->data.offset += delta;
    if (pu->elements.offset > p.offset)
       pu->elements.offset += delta;
}

nbe_string nbe_gb_get_signal_name(nbe_pu_gb *pu) {
   nbe_string nstring; 
   nbe_ptr ptr = pu->signal_name;
   nstring.str = ptr.offset == 0 ? 0 : ((uint8_t*)pu) + ptr.offset;
   nstring.len = ptr.len;
   return nstring;
}

void nbe_gb_set_signal_name_post(void *v, nbe_ptr p, int delta) {
   nbe_pu_gb *pu = (nbe_pu_gb*) v;
    if (pu->layer.offset > p.offset)
       pu->layer.offset += delta;
    if (pu->frame_type.offset > p.offset)
       pu->frame_type.offset += delta;
    if (pu->raw.offset > p.offset)
       pu->raw.offset += delta;
    if (pu->data.offset > p.offset)
       pu->data.offset += delta;
    if (pu->elements.offset > p.offset)
       pu->elements.offset += delta;
}

nbe_string nbe_gb_get_raw(nbe_pu_gb *pu) {
   nbe_string nstring; 
   nbe_ptr ptr = pu->raw;
   nstring.str = ptr.offset == 0 ? 0 : ((uint8_t*)pu) + ptr.offset;
   nstring.len = ptr.len;
   return nstring;
}

void nbe_gb_set_raw_post(void *v, nbe_ptr p, int delta) {
   nbe_pu_gb *pu = (nbe_pu_gb*) v;
    if (pu->layer.offset > p.offset)
       pu->layer.offset += delta;
    if (pu->frame_type.offset > p.offset)
       pu->frame_type.offset += delta;
    if (pu->signal_name.offset > p.offset)
       pu->signal_name.offset += delta;
    if (pu->data.offset > p.offset)
       pu->data.offset += delta;
    if (pu->elements.offset > p.offset)
       pu->elements.offset += delta;
}

nbe_string nbe_gb_get_data(nbe_pu_gb *pu) {
   nbe_string nstring; 
   nbe_ptr ptr = pu->data;
   nstring.str = ptr.offset == 0 ? 0 : ((uint8_t*)pu) + ptr.offset;
   nstring.len = ptr.len;
   return nstring;
}

void nbe_gb_set_data_post(void *v, nbe_ptr p, int delta) {
   nbe_pu_gb *pu = (nbe_pu_gb*) v;
    if (pu->layer.offset > p.offset)
       pu->layer.offset += delta;
    if (pu->frame_type.offset > p.offset)
       pu->frame_type.offset += delta;
    if (pu->signal_name.offset > p.offset)
       pu->signal_name.offset += delta;
    if (pu->raw.offset > p.offset)
       pu->raw.offset += delta;
    if (pu->elements.offset > p.offset)
       pu->elements.offset += delta;
}

nbe_list *nbe_gb_get_elements(nbe_pu_gb *pu) {
   nbe_ptr ptr = pu->elements;
   uint8_t *p = ptr.offset == 0 ? 0 : ((uint8_t*)pu) + ptr.offset;
   return (nbe_list*) p;
}

void nbe_gb_set_elements_post(void *v, nbe_ptr p, int delta) {
   nbe_pu_gb *pu = (nbe_pu_gb*) v;
    if (pu->layer.offset > p.offset)
       pu->layer.offset += delta;
    if (pu->frame_type.offset > p.offset)
       pu->frame_type.offset += delta;
    if (pu->signal_name.offset > p.offset)
       pu->signal_name.offset += delta;
    if (pu->raw.offset > p.offset)
       pu->raw.offset += delta;
    if (pu->data.offset > p.offset)
       pu->data.offset += delta;
}

static nbe_def _pu_def_ = {
                       1000,
                       0,
                       1,
                       0,
                      "gb",
                       10,
                       {
                          {12, "layer", 0}
                         ,{12, "frame_type", 0}
                         ,{12, "signal_name", 0}
                         ,{12, "raw", 0}
                         ,{6, "raw_len", 0}
                         ,{6, "next_pos", 0}
                         ,{6, "next_len", 0}
                         ,{12, "data", 0}
                         ,{6, "data_len", 0}
                         ,{13, "elements", 0}
                       }
};

nbe_def *nbe_get_pu_def_1000(uint32_t uid);
nbe_def *nbe_get_pu_def_1000(uint32_t uid) {
    nbe_pu_gb pu;
    uint8_t *p = (uint8_t*) &pu;
    _pu_def_.flds[0].offset = (uint8_t*)&pu.layer - p;
    _pu_def_.flds[1].offset = (uint8_t*)&pu.frame_type - p;
    _pu_def_.flds[2].offset = (uint8_t*)&pu.signal_name - p;
    _pu_def_.flds[3].offset = (uint8_t*)&pu.raw - p;
    _pu_def_.flds[4].offset = (uint8_t*)&pu.raw_len - p;
    _pu_def_.flds[5].offset = (uint8_t*)&pu.next_pos - p;
    _pu_def_.flds[6].offset = (uint8_t*)&pu.next_len - p;
    _pu_def_.flds[7].offset = (uint8_t*)&pu.data - p;
    _pu_def_.flds[8].offset = (uint8_t*)&pu.data_len - p;
    _pu_def_.flds[9].offset = (uint8_t*)&pu.elements - p;
    return &_pu_def_;
}

