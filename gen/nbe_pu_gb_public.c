/* Generated by nbec  on Sat May 27 04:19:05 2017
 */
#include <stdlib.h>

#include "nbe_pu_gb_public.h"

nbe_pu_gb_public *nbe_gb_public_new(void) {
    uint32_t extra = 4096;
    uint32_t fixed_size = sizeof(nbe_pu_gb_public);
    nbe_pu_gb_public *pu = (nbe_pu_gb_public*) malloc(fixed_size +extra);
    check_pu_new(pu);
    memset(pu, 0, fixed_size + extra);
    pu->uhd.uid = 600;
    pu->uhd.type = NBE_STRUCT;
    pu->uhd.packed = 0;
    uint32_t t = 1;
    pu->uhd.endian = ( *((uint8_t*) &t) != 1);
    pu->uhd.tail = fixed_size;
    pu->uhd.avail = extra;
    return pu;
}

void  nbe_gb_public_free(nbe_pu_gb_public *pu) {
    free(pu);
}
nbe_string nbe_gb_public_get_ip(nbe_pu_gb_public *pu) {
   nbe_string nstring; 
   nbe_ptr ptr = pu->ip;
   nstring.str = ptr.offset == 0 ? 0 : ((uint8_t*)pu) + ptr.offset;
   nstring.len = ptr.len;
   return nstring;
}

void nbe_gb_public_set_ip_post(void *v, nbe_ptr p, int delta) {
   nbe_pu_gb_public *pu = (nbe_pu_gb_public*) v;
}

static nbe_def _pu_def_ = {
                       600,
                       0,
                       1,
                       0,
                      "gb_public",
                       12,
                       {
                          {4, "frame_head", 0}
                         ,{4, "frame_len", 0}
                         ,{8, "collect_time_s", 0}
                         ,{6, "collect_time_ms", 0}
                         ,{2, "board_num", 0}
                         ,{2, "port_num", 0}
                         ,{2, "time_slot", 0}
                         ,{6, "data_num", 0}
                         ,{8, "parse_time", 0}
                         ,{4, "data_len", 0}
                         ,{2, "data_pos", 0}
                         ,{12, "ip", 0}
                       }
};

nbe_def *nbe_get_pu_def_600(uint32_t uid);
nbe_def *nbe_get_pu_def_600(uint32_t uid) {
    nbe_pu_gb_public pu;
    uint8_t *p = (uint8_t*) &pu;
    _pu_def_.flds[0].offset = (uint8_t*)&pu.frame_head - p;
    _pu_def_.flds[1].offset = (uint8_t*)&pu.frame_len - p;
    _pu_def_.flds[2].offset = (uint8_t*)&pu.collect_time_s - p;
    _pu_def_.flds[3].offset = (uint8_t*)&pu.collect_time_ms - p;
    _pu_def_.flds[4].offset = (uint8_t*)&pu.board_num - p;
    _pu_def_.flds[5].offset = (uint8_t*)&pu.port_num - p;
    _pu_def_.flds[6].offset = (uint8_t*)&pu.time_slot - p;
    _pu_def_.flds[7].offset = (uint8_t*)&pu.data_num - p;
    _pu_def_.flds[8].offset = (uint8_t*)&pu.parse_time - p;
    _pu_def_.flds[9].offset = (uint8_t*)&pu.data_len - p;
    _pu_def_.flds[10].offset = (uint8_t*)&pu.data_pos - p;
    _pu_def_.flds[11].offset = (uint8_t*)&pu.ip - p;
    return &_pu_def_;
}

